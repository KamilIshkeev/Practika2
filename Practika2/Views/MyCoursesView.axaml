<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="Practika2.Views.MyCoursesView">
    
    <StackPanel Spacing="16">
        <TextBlock Text="ÐœÐ¾Ð¸ ÐºÑƒÑ€ÑÑ‹" Classes="heading"/>

        <!-- ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ -->
        <Border Classes="courseCard">
            <StackPanel Spacing="8">
                <TextBlock Text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹" Classes="subheading"/>
                <StackPanel Orientation="Horizontal" Spacing="16">
                    <CheckBox x:Name="PrefDeadlines" Content="Ð”ÐµÐ´Ð»Ð°Ð¹Ð½Ñ‹" IsChecked="True"/>
                    <CheckBox x:Name="PrefNewMaterials" Content="ÐÐ¾Ð²Ñ‹Ðµ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹" IsChecked="True"/>
                    <CheckBox x:Name="PrefGrading" Content="Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸" IsChecked="True"/>
                    <Button Content="ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ" Click="OnSavePreferencesClick"/>
                </StackPanel>
            </StackPanel>
        </Border>
        
        <TextBlock Text="Ð¢ÐµÐºÑƒÑ‰Ð¸Ðµ ÐºÑƒÑ€ÑÑ‹" Classes="subheading"/>
        <ItemsControl x:Name="EnrollmentsItemsControl">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border Classes="courseCard" Margin="0,0,0,16">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" 
                                       Text="{Binding Course.Title}" 
                                       FontSize="20" 
                                       FontWeight="Bold" 
                                       Foreground="#2E7D32"
                                       Margin="0,0,0,8"/>
                            
                            <ProgressBar Grid.Row="1" 
                                         Value="{Binding Progress}" 
                                         Maximum="100"
                                         Height="24"
                                         Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="2" 
                                       Text="{Binding Progress, StringFormat='ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ: {0:F0}%'}" 
                                       Foreground="#546E7A"
                                       Margin="0,0,0,8"/>
                            
                            <Button Grid.Row="3" 
                                    Content="ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ" 
                                    Classes="primary"
                                    HorizontalAlignment="Left"
                                    CommandParameter="{Binding}"
                                    Click="OnContinueCourseClick"/>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
        
        <TextBlock x:Name="NoEnrollmentsTextBlock" 
                   Text="Ð’Ñ‹ ÐµÑ‰Ðµ Ð½Ðµ Ð·Ð°Ð¿Ð¸ÑÐ°Ð½Ñ‹ Ð½Ð¸ Ð½Ð° Ð¾Ð´Ð¸Ð½ ÐºÑƒÑ€Ñ" 
                   Foreground="#546E7A"
                   HorizontalAlignment="Center"
                   IsVisible="False"/>

        <TextBlock Text="Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ñ‹Ðµ ÐºÑƒÑ€ÑÑ‹" Classes="subheading"/>
        <ItemsControl x:Name="CompletedItemsControl">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border Classes="courseCard" Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="{Binding Course.Title}" 
                                       FontSize="20" 
                                       FontWeight="Bold" 
                                       Foreground="#2E7D32"
                                       Margin="0,0,0,8"/>
                            <TextBlock Text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½" Foreground="#546E7A"/>
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
        
        <Separator Margin="0,24,0,16"/>
        
        <TextBlock Text="Ð’Ð°ÑˆÐ¸ Ð±ÐµÐ¹Ð´Ð¶Ð¸" 
                   Classes="subheading"
                   Margin="0,0,0,16"/>
        
        <ItemsControl x:Name="BadgesItemsControl">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border Classes="courseCard" Margin="0,0,0,8">
                        <StackPanel>
                            <TextBlock Text="{Binding Badge.Title}" 
                                       FontWeight="Bold"
                                       Margin="0,0,0,4"/>
                            <TextBlock Text="{Binding Badge.Description}" 
                                       Foreground="#546E7A"
                                       TextWrapping="Wrap"/>
                            <TextBlock Text="{Binding AwardedAt, StringFormat='ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½: {0:dd.MM.yyyy}'}" 
                                       Foreground="#546E7A"
                                       FontSize="12"
                                       Margin="0,4,0,0"/>
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </StackPanel>
</UserControl>




