<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="Practika2.Views.CreateTestView"
        Title="Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚ÐµÑÑ‚"
        Width="700" Height="700"
        WindowStartupLocation="CenterScreen"
        Background="#FCFCFC">
    
    <ScrollViewer Margin="24">
        <StackPanel Spacing="16">
            <TextBlock Text="Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ‚ÐµÑÑ‚Ð°" 
                       FontSize="24" 
                       FontWeight="Bold" 
                       Foreground="#2E7D32"
                       Margin="0,0,0,16"/>
            
            <ComboBox x:Name="LessonComboBox"/>
            <TextBox x:Name="TitleTextBox" Watermark="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ‚ÐµÑÑ‚Ð°" Padding="12,8"/>
            <TextBox x:Name="DescriptionTextBox" 
                     Watermark="ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ" 
                     AcceptsReturn="True"
                     TextWrapping="Wrap"
                     Height="80"
                     Padding="12,8"/>
            
            <TextBox x:Name="TimeLimitTextBox" Watermark="Ð’Ñ€ÐµÐ¼Ñ Ð½Ð° Ð¿Ñ€Ð¾Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ðµ (Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹)" Padding="12,8"/>
            <TextBox x:Name="PassingScoreTextBox" Watermark="ÐŸÑ€Ð¾Ñ…Ð¾Ð´Ð½Ð¾Ð¹ Ð±Ð°Ð»Ð» (%)" Padding="12,8"/>
            
            <Button x:Name="AddQuestionButton" 
                    Content="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ" 
                    Classes="primary"
                    Click="OnAddQuestionClick"/>
            
            <ItemsControl x:Name="QuestionsItemsControl">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="#E0E0E0" BorderThickness="1" Padding="12" Margin="0,0,0,8">
                            <StackPanel Spacing="8">
                                <TextBox Text="{Binding Text}" Watermark="Ð¢ÐµÐºÑÑ‚ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°"/>
                                <Button Content="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚" CommandParameter="{Binding}" Click="OnAddOptionClick"/>
                                <ItemsControl ItemsSource="{Binding Options}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Grid ColumnDefinitions="Auto,*,Auto">
                                                <RadioButton IsChecked="{Binding IsCorrect}" GroupName="{Binding QuestionId}"/>
                                                <TextBox Grid.Column="1" Text="{Binding Text}" Watermark="Ð¢ÐµÐºÑÑ‚ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð°"/>
                                                <Button Grid.Column="2" Content="ðŸ—‘ï¸" CommandParameter="{Binding}" Click="OnRemoveOptionClick"/>
                                            </Grid>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                                <Button Content="ðŸ—‘ï¸ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ" CommandParameter="{Binding}" Click="OnRemoveQuestionClick"/>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
            
            <Button x:Name="SaveButton" 
                    Content="Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ñ‚ÐµÑÑ‚" 
                    Classes="primary"
                    HorizontalAlignment="Left"
                    Click="OnSaveClick"/>
        </StackPanel>
    </ScrollViewer>
</Window>


